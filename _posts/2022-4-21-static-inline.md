---
title: static inline 函数
date: 2022-04-20 12:23
categories: [C++, Others]
tags: [static inline function]     # TAG names should always be lowercase
---

static:
1. static是静态修饰符,由他修饰的变量会保存在全局数据区。
2. 普通的局部变量或者全局变量，都是系统自动分配内存的，并且当变量离开作用域的时候释放掉
3. 使用static修饰的变量，则会在程序运行期间都不会释放，只有当程序结束的时候才会释放
4. 因此对于那些需要反复使用的变量，我们通常使用static来修饰，避免重复创建导致不必要的内存开销

static inline：
* inline函数, 即内联函数，他可以向编译器申请，将使用inline修饰的函数内容，内联到函数调用的位置
* 内联函数的作用类似于`#define`, 但是他比`#define`有一些优点
  1. 相对于函数直接调用:inline修饰的函数，不会在调用这个函数的时候，调用call方法，就不会将函数压栈，产生内存消耗。
  2. 相对于宏:1.宏需要预编译，而内联函数是一个函数，不需要预编译；2. 编译器调用内联函数的时候，会检查函数的传参是否正确，但是宏并不会提醒参数
* 内联函数只能对一些小型的函数起作用，如果函数中消耗的内存很大，比如for循环，则内联函数就会默认失效
* 使用static的原因：函数在运行过程中也会分配内存，但是由于static的存在，因此与修饰变量类似，他也只会开辟一块内存空间

对于一些经常用的做判断的小方法，可以使用内联函数。